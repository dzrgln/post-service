DROP TABLE IF EXISTS POST_OFFICES CASCADE;
DROP TABLE IF EXISTS ADDRESSES CASCADE;
DROP TABLE IF EXISTS TYPE_POST_ITEM CASCADE;
DROP TABLE IF EXISTS STATUS_DELIVERY CASCADE;
DROP TABLE IF EXISTS DELIVERY_STAGE CASCADE;
DROP TABLE IF EXISTS POST_ITEMS CASCADE;




CREATE TABLE IF NOT EXISTS TYPE_POST_ITEM
(
    ID             INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ITEM_TYPE      VARCHAR(40)                              NOT NULL,
    ALIAS          VARCHAR(40) ,
    CONSTRAINT PK_TYPE_POST_ITEM PRIMARY KEY (ID)
);


CREATE TABLE IF NOT EXISTS ADDRESSES
(
    ID           INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    IND          INTEGER                                  NOT NULL,
    CITY         VARCHAR(250)                             NOT NULL,
    STREET       VARCHAR(250)                             NOT NULL,
    HOUSE_NUMBER INTEGER                                  NOT NULL,
    FLAT_NUMBER  INTEGER                                  NOT NULL,
    CONSTRAINT PK_ADDRESSES PRIMARY KEY (ID)
);


CREATE TABLE IF NOT EXISTS POST_OFFICES
(
    IND  INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    NAME VARCHAR(250)                             NOT NULL,
    CONSTRAINT PK_POST_OFFICES PRIMARY KEY (IND)
);


CREATE TABLE IF NOT EXISTS STATUS_DELIVERY
(
    ID     INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    STATUS VARCHAR(40)                              NOT NULL,
    CONSTRAINT PK_STATUS_DELIVERY PRIMARY KEY (ID)
);

CREATE TABLE IF NOT EXISTS DELIVERY_STAGE
(
    ID                      INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    SENDER_OFFICE_ID        INTEGER                                  NOT NULL,
    RECIPIENT_OFFICE_ID     INTEGER                                  NOT NULL,
    ITEM_ID                 INTEGER                                  NOT NULL,
    STATUS_DELIVERY_ID      INTEGER                                  NOT NULL,
    TIME_DELIVERY           TIMESTAMP WITHOUT TIME ZONE                      ,
    CONSTRAINT PK_DELIVERY_STAGE PRIMARY KEY (ID)
);

CREATE TABLE IF NOT EXISTS POST_ITEMS
(
    ID         BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    IND        INTEGER                                 NOT NULL,
    TYPE_ITEM  INTEGER                                 NOT NULL,
    ADDRESS_ID INTEGER                                 NOT NULL,
    SENDER     VARCHAR(255)                            NOT NULL,
    CONSTRAINT PK_POST_ITEMS PRIMARY KEY (ID)
);


